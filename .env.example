# ================================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ================================================================================
# This file is a TEMPLATE showing all required environment variables.
# DO NOT commit actual values to version control.
# Set these variables in your Render dashboard or deployment platform.
# ================================================================================

# Application Configuration
APP_ENV=production
APP_PORT=8080
APP_NAME=smart-rentals-api

# ================================================================================
# DATABASE CONFIGURATION (PostgreSQL on Render)
# ================================================================================
# CRITICAL: Use DATABASE_URL as the primary and ONLY database configuration
# Format: postgresql://username:password@host:port/dbname?sslmode=require
#
# ⚠️  USERNAME AND PASSWORD ARE REQUIRED - PostgreSQL does not support passwordless
#     remote connections. Render provides these credentials automatically.
#
# ⚠️  SSL MODE MUST BE 'require' - Never use 'disable' in production
#
# Example (replace with actual values from Render PostgreSQL dashboard):
DATABASE_URL=postgresql://smart_rentals_user:SECURE_PASSWORD_HERE@dpg-xxxxx.oregon-postgres.render.com:5432/smart_rentals_db?sslmode=require

# ================================================================================
# SECURITY CONFIGURATION
# ================================================================================
# JWT Secret - MUST be cryptographically secure random string
# Generate with: openssl rand -base64 64
# Minimum 32 characters required
JWT_SECRET=REPLACE_WITH_SECURE_RANDOM_STRING_FROM_OPENSSL_COMMAND

# JWT Token Expiry (optional, defaults to 24h)
JWT_EXPIRES_IN=24h

# ================================================================================
# CORS CONFIGURATION (MANDATORY - No wildcards allowed in production)
# ================================================================================
# Comma-separated list of allowed frontend origins
# MUST match your actual frontend deployment URLs exactly
# NO wildcards (*) allowed in production
CORS_ALLOWED_ORIGINS=https://smart-rentals.vercel.app,https://www.smart-rentals.com

# Allowed HTTP methods (optional, has sensible defaults)
CORS_ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS

# Allowed headers (optional, has sensible defaults)
CORS_ALLOWED_HEADERS=Authorization,Content-Type

# ================================================================================
# M-PESA CONFIGURATION (Production)
# ================================================================================
# M-Pesa environment - MUST be 'production' for live transactions
MPESA_ENV=production

# Base URL for M-Pesa callbacks - MUST be your actual backend URL
# Safaricom will send payment notifications to this URL
MPESA_CALLBACK_BASE_URL=https://your-backend.onrender.com

# ⚠️  NOTE: M-Pesa consumer keys, secrets, and shortcodes are stored PER LANDLORD
#     in the database. DO NOT set them as environment variables.
#     Each landlord configures their own credentials via the frontend settings page.

# ================================================================================
# LOGGING CONFIGURATION
# ================================================================================
# Log level: debug, info, warn, error
# Use 'info' for production
LOG_LEVEL=info

# ================================================================================
# DEPLOYMENT CHECKLIST
# ================================================================================
# Before deploying to production, ensure:
# 
# [ ] DATABASE_URL is set with actual Render PostgreSQL connection string
# [ ] DATABASE_URL includes ?sslmode=require
# [ ] JWT_SECRET is generated with: openssl rand -base64 64
# [ ] JWT_SECRET is at least 32 characters long
# [ ] CORS_ALLOWED_ORIGINS contains your actual frontend URLs (no wildcards)
# [ ] MPESA_CALLBACK_BASE_URL is your actual backend URL
# [ ] APP_ENV is set to 'production'
# [ ] All secrets are stored in Render environment variables (not in code)
# [ ] .env file is NOT committed to git (check .gitignore)
#
# ================================================================================
